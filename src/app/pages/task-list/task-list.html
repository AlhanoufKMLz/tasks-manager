<!-- filter -->
<div class="filters">
    <button [class.active]="filter() === 'all'" (click)="setFilter('all')">All</button>
    <button [class.active]="filter() === 'active'" (click)="setFilter('active')">Active</button>
    <button [class.active]="filter() === 'completed'" (click)="setFilter('completed')">Completed</button>
</div>

<!-- list -->
<div class="tasks">
    @if (filteredTasks().length === 0) {
        <div class="empty">
            <p>No tasks found. Add one to get started!</p>
        </div>
    }

    @for (task of filteredTasks(); track task.id) {
        <div class="task-item" [ngClass]="task.completed ? 'completed' : ''">
            <div class="task-content" [routerLink]="['/task', task.id]" >
                <div class="title">
                    <h3>{{ task.title }}</h3>
                    <small>{{ taskService.getDaysRemaining(task.dueDate) }}</small>
                </div>
                <p>{{ task.description }}</p>
                <small>Due Date: {{ task.dueDate.toLocaleDateString() }}</small>
            </div>
            <div class="actions">
                <div class="status" [ngClass]="task.completed ? 'status-completed' : 'status-in-progress'">{{task.completed ? 'Completed' : 'In Progress'}}</div>
                <button class="delete-btn" (click)="deleteTask(task.id)">Delete</button>
            </div>
        </div>
    }
</div>